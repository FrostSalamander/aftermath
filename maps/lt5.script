void openGate(entity target, entity door, entity callscriptfunction)
{
    string keyName = door.getKey("used_by");
    entity key = sys.getEntity(keyName);
    $player1.replaceInvItem(key, $null_entity);
}

// main - keep at bottom
void main()
{
    sys.waitFrame();
}